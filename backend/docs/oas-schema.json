{
  "openapi": "3.0.1",
  "info": {
    "title": "Backend API Docs",
    "description": "API documentation for AWS Management Portal backend API.",
    "version": "1.0.0"
  },
  "paths": {
    "/": {
      "get": {
        "summary": "Default test endpoint",
        "tags": [
          "test"
        ],
        "parameters": [],
        "operationId": "default",
        "responses": {
          "200": {
            "description": "200",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          }
        }
      }
    },
    "/test": {
      "get": {
        "tags": [
          "test"
        ],
        "parameters": [],
        "operationId": "test",
        "responses": {
          "200": {
            "description": "200",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "test": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "test"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          }
        }
      }
    },
    "/auth/authenticate": {
      "post": {
        "description": "Authenticates a user via credentials (login/password). Returns a JWT (Json Web Token) the user can use to make requests to protected routes (i.e. manage resources).",
        "summary": "Authenticate user",
        "tags": [
          "auth"
        ],
        "parameters": [],
        "operationId": "authenticate",
        "requestBody": {
          "description": "Body",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "username": {
                    "type": "string",
                    "example": "john"
                  },
                  "password": {
                    "type": "string",
                    "example": "p4s$w0rd"
                  }
                },
                "required": [
                  "username",
                  "password"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "200",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "token": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "token"
                  ],
                  "title": "Auth Token",
                  "description": "Json Web Token (JWT)"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "401": {
            "description": "401",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "type": {
                      "type": "string"
                    },
                    "message": {
                      "type": "string"
                    },
                    "hint": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "type"
                  ],
                  "title": "API Error"
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          }
        }
      }
    },
    "/resources/compute/ec2/create": {
      "post": {
        "description": "Creates a new AWS EC2 instance by providing some specifications.Returns the new instance details if the request succeds.",
        "summary": "Create EC2 instance",
        "tags": [
          "ec2"
        ],
        "parameters": [],
        "operationId": "create",
        "requestBody": {
          "description": "Body",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "name": {
                    "type": "string"
                  },
                  "instanceType": {
                    "type": "string"
                  },
                  "ami": {
                    "type": "string"
                  },
                  "storageType": {
                    "type": "string"
                  },
                  "storageSizeGiB": {
                    "type": "number"
                  }
                },
                "required": [
                  "name",
                  "instanceType",
                  "ami",
                  "storageType",
                  "storageSizeGiB"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "201",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "instance": {
                      "type": "object",
                      "properties": {
                        "LocalInstanceId": {
                          "type": "number",
                          "example": 4123
                        },
                        "AwsInstanceId": {
                          "type": "string",
                          "example": "i-00e671f3a983c4131"
                        },
                        "InstanceName": {
                          "type": "string",
                          "example": "Web Server"
                        },
                        "AMI": {
                          "type": "string",
                          "example": "ami-0c55b159cbfafe1f0"
                        },
                        "State": {
                          "type": "string",
                          "enum": [
                            "pending",
                            "running",
                            "stopping",
                            "stopped",
                            "shutting-down",
                            "terminated",
                            "unknown"
                          ],
                          "example": "running"
                        },
                        "BlockStorageDevices": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "Name": {
                                "type": "string"
                              },
                              "EbsVolumeId": {
                                "type": "string"
                              }
                            },
                            "required": [
                              "Name",
                              "EbsVolumeId"
                            ]
                          },
                          "example": [
                            {
                              "Name": "Storage1",
                              "EbsVolumeId": "vol-1234567890abcdef0"
                            },
                            {
                              "Name": "Storage1",
                              "EbsVolumeId": "vol-u4398201748fnaeou0"
                            }
                          ]
                        },
                        "LaunchTime": {
                          "type": "string",
                          "format": "date-time",
                          "example": "2024-06-22T21:52:32.519Z"
                        },
                        "Tags": {
                          "type": "array",
                          "items": {
                            "type": "string"
                          },
                          "example": [
                            "webapp",
                            "important"
                          ]
                        }
                      },
                      "required": [
                        "LocalInstanceId",
                        "AwsInstanceId",
                        "InstanceName",
                        "AMI",
                        "State",
                        "BlockStorageDevices",
                        "LaunchTime",
                        "Tags"
                      ],
                      "title": "EC2 Instance",
                      "description": "Represents a local EC2 instance."
                    }
                  },
                  "required": [
                    "instance"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "401": {
            "description": "Authentication error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/resources/compute/ec2/terminate": {
      "post": {
        "description": "Terminates AWS EC2 instances by providing their Local Resource IDs (LRI).",
        "summary": "Terminate EC2 instances",
        "tags": [
          "ec2"
        ],
        "parameters": [],
        "operationId": "terminate",
        "requestBody": {
          "description": "Body",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "instanceIds": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  }
                },
                "required": [
                  "instanceIds"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "201",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "401": {
            "description": "Authentication error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/resources/compute/ec2/start": {
      "post": {
        "description": "Starts an existing EC2 instance by providing its Local Resource ID (LRI).",
        "summary": "Start EC2 instance",
        "tags": [
          "ec2"
        ],
        "parameters": [],
        "operationId": "start",
        "requestBody": {
          "description": "Body",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "instanceId": {
                    "type": "number",
                    "example": 4123
                  }
                },
                "required": [
                  "instanceId"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "201",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "instanceState": {
                      "type": "string",
                      "enum": [
                        "pending",
                        "running",
                        "stopping",
                        "stopped",
                        "shutting-down",
                        "terminated",
                        "unknown"
                      ],
                      "example": "pending"
                    }
                  },
                  "required": [
                    "instanceState"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "401": {
            "description": "Authentication error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/resources/compute/ec2/stop": {
      "post": {
        "description": "Stops an existing EC2 instance by providing its Local Resource ID (LRI).",
        "summary": "Stop EC2 instance",
        "tags": [
          "ec2"
        ],
        "parameters": [],
        "operationId": "stop",
        "requestBody": {
          "description": "Body",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "instanceId": {
                    "type": "number",
                    "example": 4123
                  }
                },
                "required": [
                  "instanceId"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "201",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "instanceState": {
                      "type": "string",
                      "enum": [
                        "pending",
                        "running",
                        "stopping",
                        "stopped",
                        "shutting-down",
                        "terminated",
                        "unknown"
                      ],
                      "example": "stopping"
                    }
                  },
                  "required": [
                    "instanceState"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "401": {
            "description": "Authentication error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/resources/compute/ec2/reboot": {
      "post": {
        "description": "Reboots an existing EC2 instance by providing its Local Resource ID (LRI).",
        "summary": "Reboot EC2 instance",
        "tags": [
          "ec2"
        ],
        "parameters": [],
        "operationId": "reboot",
        "requestBody": {
          "description": "Body",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "instanceId": {
                    "type": "number",
                    "example": 4123
                  }
                },
                "required": [
                  "instanceId"
                ]
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "201",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "instanceState": {
                      "type": "string",
                      "enum": [
                        "pending",
                        "running",
                        "stopping",
                        "stopped",
                        "shutting-down",
                        "terminated",
                        "unknown"
                      ],
                      "example": "pending"
                    }
                  },
                  "required": [
                    "instanceState"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "401": {
            "description": "Authentication error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/resources/compute/ec2/validateInstanceName": {
      "post": {
        "description": "Checks if the given instance name is valid, i.e. if the name has a valid format and whether it is unique.",
        "summary": "Validate EC2 instance name",
        "tags": [
          "ec2"
        ],
        "parameters": [],
        "operationId": "validateInstanceName",
        "requestBody": {
          "description": "Body",
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "instanceName": {
                    "type": "string",
                    "example": "very-c00l-name"
                  }
                },
                "required": [
                  "instanceName"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "200",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "valid": {
                      "type": "boolean",
                      "example": true
                    }
                  },
                  "required": [
                    "valid"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "401": {
            "description": "Authentication error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/resources/compute/ec2/listInstances": {
      "get": {
        "description": "Lists existing EC2 instances.",
        "summary": "List EC2 instances",
        "tags": [
          "ec2"
        ],
        "parameters": [
          {
            "name": "maxResults",
            "in": "query",
            "content": {
              "application/json": {
                "schema": {
                  "type": "number"
                }
              }
            }
          }
        ],
        "operationId": "listInstaces",
        "responses": {
          "200": {
            "description": "200",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "instances": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "LocalInstanceId": {
                            "type": "number",
                            "example": 4123
                          },
                          "AwsInstanceId": {
                            "type": "string",
                            "example": "i-00e671f3a983c4131"
                          },
                          "InstanceName": {
                            "type": "string",
                            "example": "Web Server"
                          },
                          "AMI": {
                            "type": "string",
                            "example": "ami-0c55b159cbfafe1f0"
                          },
                          "State": {
                            "type": "string",
                            "enum": [
                              "pending",
                              "running",
                              "stopping",
                              "stopped",
                              "shutting-down",
                              "terminated",
                              "unknown"
                            ],
                            "example": "running"
                          },
                          "BlockStorageDevices": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "Name": {
                                  "type": "string"
                                },
                                "EbsVolumeId": {
                                  "type": "string"
                                }
                              },
                              "required": [
                                "Name",
                                "EbsVolumeId"
                              ]
                            },
                            "example": [
                              {
                                "Name": "Storage1",
                                "EbsVolumeId": "vol-1234567890abcdef0"
                              },
                              {
                                "Name": "Storage1",
                                "EbsVolumeId": "vol-u4398201748fnaeou0"
                              }
                            ]
                          },
                          "LaunchTime": {
                            "type": "string",
                            "format": "date-time",
                            "example": "2024-06-22T21:52:32.519Z"
                          },
                          "Tags": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            },
                            "example": [
                              "webapp",
                              "important"
                            ]
                          }
                        },
                        "required": [
                          "LocalInstanceId",
                          "AwsInstanceId",
                          "InstanceName",
                          "AMI",
                          "State",
                          "BlockStorageDevices",
                          "LaunchTime",
                          "Tags"
                        ],
                        "title": "EC2 Instance",
                        "description": "Represents a local EC2 instance."
                      }
                    }
                  },
                  "required": [
                    "instances"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "401": {
            "description": "Authentication error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/resources/compute/ec2/listImages": {
      "get": {
        "description": "Lists available EC2 instance images.",
        "summary": "List EC2 images",
        "tags": [
          "ec2"
        ],
        "parameters": [
          {
            "name": "baseOs",
            "in": "query",
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "example": "ubuntu"
                }
              }
            }
          },
          {
            "name": "nextPaginationToken",
            "in": "query",
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "example": "todo"
                }
              }
            }
          }
        ],
        "operationId": "listImages",
        "responses": {
          "200": {
            "description": "200",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "images": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "ImageId": {
                            "type": "string",
                            "example": "ami-5731123e"
                          },
                          "Architecture": {
                            "type": "string",
                            "example": "x86_64"
                          },
                          "ImageType": {
                            "type": "string",
                            "example": "machine"
                          },
                          "KernelId": {
                            "type": "string",
                            "example": "aki-88aa75e1"
                          },
                          "VirtualizationType": {
                            "type": "string",
                            "example": "hvm"
                          },
                          "Name": {
                            "type": "string",
                            "example": "Amazon Linux Image"
                          },
                          "Description": {
                            "type": "string",
                            "example": "Debian 12 (HVM), EBS General Purpose (SSD) Volume Type. Community developed free GNU/Linux distribution."
                          },
                          "FreeTier": {
                            "type": "boolean",
                            "example": false
                          },
                          "OwnerId": {
                            "type": "string",
                            "example": "123456789012"
                          },
                          "State": {
                            "type": "string",
                            "example": "available"
                          }
                        },
                        "required": [
                          "ImageId",
                          "Architecture",
                          "ImageType",
                          "KernelId",
                          "VirtualizationType",
                          "Name",
                          "Description",
                          "OwnerId",
                          "State"
                        ]
                      }
                    },
                    "nextPaginationToken": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "images"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "401": {
            "description": "Authentication error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/resources/compute/ec2/listQuickstartImages": {
      "get": {
        "description": "Lists EC2 instance images that are displayed in AWS quickstart.",
        "summary": "List EC2 quickstart images",
        "tags": [
          "ec2"
        ],
        "parameters": [
          {
            "name": "baseOs",
            "in": "query",
            "required": true,
            "content": {
              "application/json": {
                "schema": {
                  "type": "string",
                  "example": "ubuntu"
                }
              }
            }
          }
        ],
        "operationId": "listQuickstartImages",
        "responses": {
          "200": {
            "description": "200",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "amis": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "ImageId": {
                            "type": "string",
                            "example": "ami-5731123e"
                          },
                          "Architecture": {
                            "type": "string",
                            "example": "x86_64"
                          },
                          "ImageType": {
                            "type": "string",
                            "example": "machine"
                          },
                          "KernelId": {
                            "type": "string",
                            "example": "aki-88aa75e1"
                          },
                          "VirtualizationType": {
                            "type": "string",
                            "example": "hvm"
                          },
                          "Name": {
                            "type": "string",
                            "example": "Amazon Linux Image"
                          },
                          "Description": {
                            "type": "string",
                            "example": "Debian 12 (HVM), EBS General Purpose (SSD) Volume Type. Community developed free GNU/Linux distribution."
                          },
                          "FreeTier": {
                            "type": "boolean",
                            "example": false
                          },
                          "OwnerId": {
                            "type": "string",
                            "example": "123456789012"
                          },
                          "State": {
                            "type": "string",
                            "example": "available"
                          }
                        },
                        "required": [
                          "ImageId",
                          "Architecture",
                          "ImageType",
                          "KernelId",
                          "VirtualizationType",
                          "Name",
                          "Description",
                          "OwnerId",
                          "State"
                        ]
                      }
                    }
                  },
                  "required": [
                    "amis"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "401": {
            "description": "Authentication error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/resources/compute/ec2/listInstanceTypes": {
      "get": {
        "description": "Lists available EC2 instace types.",
        "summary": "List EC2 instance types",
        "tags": [
          "ec2"
        ],
        "parameters": [],
        "operationId": "listInstanceTypes",
        "responses": {
          "200": {
            "description": "200",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "instanceTypes": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "BareMetal": {
                            "type": "boolean",
                            "example": false
                          },
                          "CurrentGeneration": {
                            "type": "boolean",
                            "example": true
                          },
                          "DedicatedHostsSupported": {
                            "type": "boolean",
                            "example": true
                          },
                          "FreeTier": {
                            "type": "boolean",
                            "example": true
                          },
                          "HibernationSupported": {
                            "type": "boolean",
                            "example": true
                          },
                          "InstanceStorageSupported": {
                            "type": "boolean",
                            "example": true
                          },
                          "InstanceStorageInfo": {
                            "type": "object",
                            "properties": {
                              "Disks": {
                                "type": "array",
                                "items": {
                                  "type": "object",
                                  "properties": {
                                    "Count": {
                                      "type": "number"
                                    },
                                    "SizeInGB": {
                                      "type": "number"
                                    },
                                    "DiskType": {
                                      "type": "string"
                                    }
                                  },
                                  "required": [
                                    "Count",
                                    "SizeInGB",
                                    "DiskType"
                                  ]
                                }
                              },
                              "EncryptionSupport": {
                                "type": "string"
                              },
                              "NvmeSupport": {
                                "type": "string"
                              },
                              "TotalSizeInGB": {
                                "type": "number"
                              }
                            },
                            "required": [
                              "Disks",
                              "EncryptionSupport",
                              "NvmeSupport",
                              "TotalSizeInGB"
                            ]
                          },
                          "InstanceType": {
                            "type": "string"
                          },
                          "MemorySizeInMiB": {
                            "type": "number"
                          },
                          "ProcessorInfo": {
                            "type": "object",
                            "properties": {
                              "SupportedArchitectures": {
                                "type": "array",
                                "items": {
                                  "type": "string"
                                }
                              },
                              "SustainedClockSpeedInGhz": {
                                "type": "number"
                              }
                            },
                            "required": [
                              "SupportedArchitectures",
                              "SustainedClockSpeedInGhz"
                            ]
                          },
                          "SupportedBootModes": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "SupportedRootDeviceTypes": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "SupportedVirtualizationTypes": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "VCpuInfo": {
                            "type": "object",
                            "properties": {
                              "DefaultCores": {
                                "type": "number"
                              },
                              "DefaultThreadsPerCore": {
                                "type": "number"
                              },
                              "DefaultVCpus": {
                                "type": "number"
                              }
                            },
                            "required": [
                              "DefaultCores",
                              "DefaultThreadsPerCore",
                              "DefaultVCpus"
                            ]
                          }
                        },
                        "required": [
                          "BareMetal",
                          "CurrentGeneration",
                          "DedicatedHostsSupported",
                          "FreeTier",
                          "HibernationSupported",
                          "InstanceStorageSupported",
                          "InstanceStorageInfo",
                          "InstanceType",
                          "MemorySizeInMiB",
                          "ProcessorInfo",
                          "SupportedBootModes",
                          "SupportedRootDeviceTypes",
                          "SupportedVirtualizationTypes",
                          "VCpuInfo"
                        ]
                      }
                    }
                  },
                  "required": [
                    "instanceTypes"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "401": {
            "description": "Authentication error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/user/info": {
      "get": {
        "summary": "Get user info",
        "tags": [
          "user"
        ],
        "parameters": [],
        "operationId": "info",
        "responses": {
          "200": {
            "description": "200",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "number",
                      "example": 1337
                    },
                    "username": {
                      "type": "string",
                      "example": "j0hn.w3ak"
                    },
                    "role": {
                      "type": "string",
                      "example": "user"
                    }
                  },
                  "required": [
                    "id",
                    "username",
                    "role"
                  ],
                  "title": "User Info",
                  "description": "General information about a user."
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "401": {
            "description": "Authentication error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/user/id": {
      "get": {
        "summary": "Get user id",
        "tags": [
          "user"
        ],
        "parameters": [],
        "operationId": "id",
        "responses": {
          "200": {
            "description": "200",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "number"
                    }
                  },
                  "required": [
                    "id"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "401": {
            "description": "Authentication error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/user/username": {
      "get": {
        "summary": "Get user username",
        "tags": [
          "user"
        ],
        "parameters": [],
        "operationId": "username",
        "responses": {
          "200": {
            "description": "200",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "username": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "username"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "401": {
            "description": "Authentication error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/user/role": {
      "get": {
        "summary": "Get user role",
        "tags": [
          "user"
        ],
        "parameters": [],
        "operationId": "role",
        "responses": {
          "200": {
            "description": "200",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "role": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "role"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "401": {
            "description": "Authentication error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    },
    "/user/validate": {
      "get": {
        "summary": "Validate user JWT",
        "tags": [
          "user"
        ],
        "parameters": [],
        "operationId": "validate",
        "responses": {
          "200": {
            "description": "200",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "valid": {
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "valid"
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "401": {
            "description": "Authentication error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          },
          "500": {
            "description": "Server error",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "ApiError": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string"
          },
          "message": {
            "type": "string"
          },
          "hint": {
            "type": "string"
          }
        },
        "required": [
          "type",
          "message",
          "hint"
        ],
        "title": "API Error",
        "description": "Describes an error from the backend API."
      },
      "UserInfo": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "example": 1337
          },
          "username": {
            "type": "string",
            "example": "j0hn.w3ak"
          },
          "role": {
            "type": "string",
            "example": "user"
          }
        },
        "required": [
          "id",
          "username",
          "role"
        ],
        "title": "User Info",
        "description": "General information about a user."
      }
    },
    "parameters": {
      "ContentTypeHeader": {
        "name": "Content-Type",
        "in": "header",
        "required": true,
        "schema": {
          "type": "string"
        },
        "description": "Header required in all requests. It must bet set to 'application/json'."
      }
    },
    "securitySchemes": {
      "cookieAuth": {
        "type": "apiKey",
        "name": "token",
        "in": "cookie",
        "description": "Json Web Token (JWT) that identifies the subject"
      }
    }
  }
}